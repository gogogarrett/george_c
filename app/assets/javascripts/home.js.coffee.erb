root = exports ? this
root.Process =
  currentProcess: 0,
  maxProcesses: $('.process').size() - 1,

  init: ->
    $('i').hide()
    $('i').first().show()
    $('.process').hide()
    $('.process:eq(' + root.Process.currentProcess + ')').show()
    $('a#left').on 'click', @go_prev
    $('a#right').on 'click', @go_next
    $('a.step').on 'click', @gotostep

  go_prev: (e) ->
    e.preventDefault()
    if root.Process.currentProcess == 0
      root.Process.currentProcess = $(".process").size() - 1
    else
      root.Process.currentProcess--
    rootProcess.show_process()

  go_next: (e) ->
    e.preventDefault()
    if root.Process.currentProcess == root.Process.maxProcesses
      root.Process.currentProcess = 0
    else
      root.Process.currentProcess++
    root.Process.show_process()

  show_process: ->
    $('.process').hide()
    $('.process:eq(' + root.Process.currentProcess + ')').fadeIn()
    $('i').hide()
    $("a[data-step-id='" + root.Process.currentProcess + "']").prev('i').show()

  gotostep: (e) ->
    e.preventDefault()
    root.Process.currentProcess = $(this).data('step-id')
    root.Process.show_process()





root.Galleries =
  currentImage: 0,
  maxImage: 0,

  init: ->
    $('ul.gallery').hide()
    $gallery = $('ul.gallery').first()
    $gallery.show()
    root.Galleries.currentImage = 0
    root.Galleries.maxImage = $gallery.find('.image').length
    $('a.gallery_title').on 'click', @show_current_gallery
    @slideImages($gallery)

  slideImages: (gallery) ->
    root.Galleries.myInterval = setInterval ->
      $('.image').hide()

      if root.Galleries.currentImage < root.Galleries.maxImage
        gallery.find('.image:eq(' + root.Galleries.currentImage + ')').show()
        root.Galleries.currentImage++
      else
        root.Galleries.currentImage = 0
        gallery.find('.image:eq(' + root.Galleries.currentImage + ')').show()
    , 2900

  show_current_gallery: (e) ->
    e.preventDefault()
    title = $(this).data('title');

    $('ul.gallery').hide()
    $gallery = $('ul.'+title).show()
    $('.image').hide()
    $gallery.find('.image').first().show()

    window.clearInterval(root.Galleries.myInterval);
    root.Galleries.currentImage = 0
    root.Galleries.maxImage = $gallery.find('.image').length
    root.Galleries.showArrow($gallery)
    root.Galleries.slideImages($gallery)

  showArrow: (gallery) ->
    $('i.arrow').hide()
    $('a[data-title="' + gallery.data('title') + '"]').prev('i.arrow').show()







root.GeorgeC =

  init: ->
    $('a.about').on 'click', @about_page
    $('a.processes').on 'click', @processes_page
    $('a.awards').on 'click', @awards_page
    $('a.galleries').on 'click', @galleries_page
    $('a.inventories').on 'click', @inventories_page
    $('a.contact').on 'click', @contact_page

  about_page: (e) ->
    $("section#page").removeClass()
    $("section#page").addClass 'about'
    $("nav li").removeClass()
    $("nav li[data-menu-title='about']").addClass 'about_link'
    $("nav li[data-menu-title='about']").addClass 'selected'

  processes_page: (e) ->
    $("section#page").removeClass()
    $("section#page").addClass 'processes'
    $("nav li").removeClass()
    $("nav li[data-menu-title='processes']").addClass 'processes_link'
    $("nav li[data-menu-title='processes']").addClass 'selected'

  awards_page: (e) ->
    $("section#page").removeClass()
    $("section#page").addClass 'awards'
    $("nav li").removeClass()
    $("nav li[data-menu-title='awards']").addClass 'awards_link'
    $("nav li[data-menu-title='awards']").addClass 'selected'

  galleries_page: (e) ->
    $("section#page").removeClass()
    $("section#page").addClass 'galleries'
    $("nav li").removeClass()
    $("nav li[data-menu-title='galleries']").addClass 'galleries_link'
    $("nav li[data-menu-title='galleries']").addClass 'selected'

  inventories_page: (e) ->
    $("section#page").removeClass()
    $("section#page").addClass 'inventories'
    $("nav li").removeClass()
    $("nav li[data-menu-title='inventories']").addClass 'inventories_link'
    $("nav li[data-menu-title='inventories']").addClass 'selected'

  contact_page: (e) ->
    $("section#page").removeClass()
    $("section#page").addClass 'contact'
    $("nav li").removeClass()
    $("nav li[data-menu-title='contact']").addClass 'contact_link'
    $("nav li[data-menu-title='contact']").addClass 'selected'
